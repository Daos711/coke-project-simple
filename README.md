# Delayed Coking Reactor - 1D CFD Simulation

–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è 1D –º–æ–¥–µ–ª—å —Ä–µ–∞–∫—Ç–æ—Ä–∞ –∑–∞–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–∫—Å–æ–≤–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç—å–∏:

**D√≠az, F. A., et al. (2017).** *CFD simulation of a pilot plant Delayed Coking reactor using an In-House CFD code.* CT&F - Ciencia, Tecnolog√≠a y Futuro, 7(1), 85-100.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Ç—Ä—ë—Ö—Ñ–∞–∑–Ω—É—é (–≤–∞–∫—É—É–º–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫, –¥–∏—Å—Ç–∏–ª–ª—è—Ç—ã, –∫–æ–∫—Å) –æ–¥–Ω–æ–º–µ—Ä–Ω—É—é –º–æ–¥–µ–ª—å –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∫–æ–∫—Å–æ–≤–∞–Ω–∏—è —Å **–º–Ω–æ–≥–æ—Ä–µ–∂–∏–º–Ω–æ–π –∫–∏–Ω–µ—Ç–∏–∫–æ–π** –∏ **Numba-—É—Å–∫–æ—Ä–µ–Ω–∏–µ–º**:

- ‚úÖ 1D –≥–µ–æ–º–µ—Ç—Ä–∏—è –ø–æ –≤—ã—Å–æ—Ç–µ —Ä–µ–∞–∫—Ç–æ—Ä–∞
- ‚úÖ –ú–Ω–æ–≥–æ—Ä–µ–∂–∏–º–Ω–∞—è –∫–∏–Ω–µ—Ç–∏–∫–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º —Ä–µ–∞–∫—Ü–∏–∏ (1.0 ‚Üí 1.5 ‚Üí 2.0)
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∫–æ—Ä–æ—Å—Ç–µ–π –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ã–π —Ä–∞—Å—á—ë—Ç –≤—ã—Å–æ—Ç—ã –∫–æ–∫—Å–æ–≤–æ–≥–æ —Å–ª–æ—è
- ‚úÖ –ü—Ä–æ–≥—Ä–µ–≤ –æ—Ç —Å—Ç–µ–Ω–æ–∫ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ –≤—ã—Å–æ—Ç–µ
- ‚úÖ –ê–¥–≤–µ–∫—Ü–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å—É–±—à–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º (Courant)
- ‚úÖ Numba JIT-–∫–æ–º–ø–∏–ª—è—Ü–∏—è –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –≤ ~20x
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ (VR3)

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install numpy matplotlib numba
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `numba` –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞, –Ω–æ –¥–∞—ë—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ (~20x)

### –ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏

```bash
cd examples
python run_simple.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
coke-project-simple/
‚îú‚îÄ‚îÄ src/                      # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–¥—É–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ params.py             # –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏ (Inlet, Walls, Materials, TimeSetup)
‚îÇ   ‚îú‚îÄ‚îÄ geometry.py           # –ì–µ–æ–º–µ—Ç—Ä–∏—è —Ä–µ–∞–∫—Ç–æ—Ä–∞ (Geometry)
‚îÇ   ‚îú‚îÄ‚îÄ kinetics.py           # –ú–Ω–æ–≥–æ—Ä–µ–∂–∏–º–Ω–∞—è –∫–∏–Ω–µ—Ç–∏–∫–∞ VR3 (VR3Kinetics)
‚îÇ   ‚îú‚îÄ‚îÄ solver_1d.py          # –†–µ—à–∞—Ç–µ–ª—å —Å Numba JIT (Coking1DSolver)
‚îÇ   ‚îî‚îÄ‚îÄ visualization.py      # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îî‚îÄ‚îÄ run_simple.py         # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ results/                  # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îÇ   ‚îú‚îÄ‚îÄ *.png                 # –ì—Ä–∞—Ñ–∏–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ simulation_results.txt # –ß–∏—Å–ª–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–æ–¥–µ–ª–∏

### –ì–µ–æ–º–µ—Ç—Ä–∏—è (`src/geometry.py`)

```python
@dataclass
class Geometry:
    H: float = 0.5692   # –º - –≤—ã—Å–æ—Ç–∞ —Ä–µ–∞–∫—Ç–æ—Ä–∞
    D: float = 0.0602   # –º - –¥–∏–∞–º–µ—Ç—Ä
    NZ: int = 50        # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞—Å—á—ë—Ç–Ω—ã—Ö —Ç–æ—á–µ–∫
```

### –£—Å–ª–æ–≤–∏—è –Ω–∞ –≤—Ö–æ–¥–µ (`src/params.py`)

```python
@dataclass
class Inlet:
    T_in_C: float = 370.0              # ¬∞C - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤—Ö–æ–¥–∞
    m_dot_kg_s: float = 5e-3 / 60.0    # –∫–≥/—Å (5 g/min –ø–æ–¥–∞—á–∞)
    rho_vr: float = 1050.0             # –∫–≥/–º¬≥ - –ø–ª–æ—Ç–Ω–æ—Å—Ç—å VR
    v_gas_factor: float = 25.0         # –∫–æ—ç—Ñ—Ñ. –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –≥–∞–∑–∞
```

### –°—Ç–µ–Ω–∫–∏ –∏ –ø—Ä–æ–≥—Ä–µ–≤ (`src/params.py`)

```python
@dataclass
class Walls:
    T_wall_C: float = 510.0              # ¬∞C - —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å—Ç–µ–Ω–∫–∏
    tau_heat_bottom_s: float = 10.0*60   # —Å - –≤—Ä–µ–º—è –ø—Ä–æ–≥—Ä–µ–≤–∞ —Å–Ω–∏–∑—É (–±—ã—Å—Ç—Ä–æ)
    tau_heat_top_s: float = 120.0*60     # —Å - –≤—Ä–µ–º—è –ø—Ä–æ–≥—Ä–µ–≤–∞ —Å–≤–µ—Ä—Ö—É (–º–µ–¥–ª–µ–Ω–Ω–æ)
    tau_profile_beta: float = 2.0        # –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –ø—Ä–æ—Ñ–∏–ª—è œÑ(z)
```

**–ü—Ä–æ—Ñ–∏–ª—å –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≥—Ä–µ–≤–∞:**
```
œÑ(z) = œÑ_bottom + (œÑ_top - œÑ_bottom) * (z/H)^Œ≤
```
–°–Ω–∏–∑—É –Ω–∞–≥—Ä–µ–≤ –±—ã—Å—Ç—Ä–µ–µ (10 –º–∏–Ω), —Å–≤–µ—Ä—Ö—É –º–µ–¥–ª–µ–Ω–Ω–µ–µ (120 –º–∏–Ω).

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã (`src/params.py`)

```python
@dataclass
class Materials:
    rho_coke_bulk: float = 950.0   # –∫–≥/–º¬≥ - bulk –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –∫–æ–∫—Å–∞
    rho_dist_vap: float = 3.0      # –∫–≥/–º¬≥ - —É—Å–ª–æ–≤–Ω–∞—è –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–≤
```

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (`src/params.py`)

```python
@dataclass
class TimeSetup:
    total_hours: float = 12.0                              # —á–∞—Å–æ–≤
    dt: float = 0.05                                       # —Å
    snapshots_h: tuple = (0.0, 3.0, 6.0, 9.0, 12.0)       # –º–æ–º–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
    contour_every_s: float = 10.0 * 60.0                  # –∏–Ω—Ç–µ—Ä–≤–∞–ª –∫–æ–Ω—Ç—É—Ä–æ–≤
```

## üß™ –ö–∏–Ω–µ—Ç–∏–∫–∞ —Ä–µ–∞–∫—Ü–∏–π

### –ú–Ω–æ–≥–æ—Ä–µ–∂–∏–º–Ω–∞—è –∫–∏–Ω–µ—Ç–∏–∫–∞ (`src/kinetics.py`)

–ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ç—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Ä–µ–∂–∏–º–∞** —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ—Ä—è–¥–∫–∞–º–∏ —Ä–µ–∞–∫—Ü–∏–π:

```python
@dataclass
class VR3Kinetics:
    T1_C: float = 488.0        # ¬∞C - –≥—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∂–∏–º–∞ 1
    T2_C: float = 570.0        # ¬∞C - –≥—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–∂–∏–º–∞ 2
    
    # –ú–ê–°–®–¢–ê–ë–´ –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ (–∫–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã!)
    scale_dist: float = 0.25   # –º–∞—Å—à—Ç–∞–± –¥–ª—è –¥–∏—Å—Ç–∏–ª–ª—è—Ü–∏–∏
    scale_coke: float = 5.00   # –º–∞—Å—à—Ç–∞–± –¥–ª—è –∫–æ–∫—Å–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è
    
    # –ë–∞–∑–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ê—Ä—Ä–µ–Ω–∏—É—Å–∞
    reg1:  Regime  # order=1.0, T < 488¬∞C
    reg15: Regime  # order=1.5, 488¬∞C ‚â§ T < 570¬∞C
    reg2:  Regime  # order=2.0, T ‚â• 570¬∞C
```

**–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∫–æ—Ä–æ—Å—Ç–µ–π:**
```python
k_dist = scale_dist * A_dist * exp(-Ea_dist / (R*T))
k_coke = scale_coke * A_coke * exp(-Ea_coke / (R*T))
```

**–ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- `A_dist = 1.2e+01` 1/—Å
- `A_coke = 1.5e+01` 1/—Å
- `Ea_dist = 92 –∫–î–∂/–º–æ–ª—å`
- `Ea_coke = 85 –∫–î–∂/–º–æ–ª—å`

### –°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–π

```python
r_total = (k_dist + k_coke) * (Œ±R^(order-1))
dŒ±R = Œ≥ * Œ±R * r_total * dt
```

–≥–¥–µ:
- `Œ±R` - –æ–±—ä—ë–º–Ω–∞—è –¥–æ–ª—è –≤–∞–∫—É—É–º–Ω–æ–≥–æ –æ—Å—Ç–∞—Ç–∫–∞
- `Œ≥ = 1 - Œ±C` - –ø–æ—Ä–∏—Å—Ç–æ—Å—Ç—å (–¥–æ–ª—è –Ω–µ–∑–∞–Ω—è—Ç–∞—è –∫–æ–∫—Å–æ–º)
- `order` - –ø–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–∫—Ü–∏–∏ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã)

## üìä –†–∞—Å—á—ë—Ç –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –í—ã—Å–æ—Ç–∞ –∫–æ–∫—Å–æ–≤–æ–≥–æ —Å–ª–æ—è

**–ò–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ (—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–∞—è):**
```python
H_bed = ‚à´‚ÇÄ^H Œ±C(z) dz ‚âà Œ£ Œ±C[i] * dz
```

–≠—Ç–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –º–µ—Ç–æ–¥, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Å –º–∞—Å—Å–æ–π –∫–æ–∫—Å–∞.

### –í—ã—Ö–æ–¥ –∫–æ–∫—Å–∞

```python
Yield_coke = (M_coke / M_feed) * 100%

–≥–¥–µ:
  M_coke = ‚à´ œÅ_coke * Œ±C * A dz
  M_feed = m_dot * t_total
```

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–æ–∑–¥–∞—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ –≥—Ä–∞—Ñ–∏–∫–∏ –≤ –ø–∞–ø–∫–µ `results/`:

1. **volume_fractions_evolution_ru.png**
   - –ü—Ä–æ—Ñ–∏–ª–∏ Œ±R, Œ±D, Œ±C –ø–æ –≤—ã—Å–æ—Ç–µ –≤ —Ä–∞–∑–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏

2. **temperature_evolution_ru.png**
   - –≠–≤–æ–ª—é—Ü–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è

3. **coke_bed_growth_ru.png**
   - –†–æ—Å—Ç –≤—ã—Å–æ—Ç—ã –∫–æ–∫—Å–æ–≤–æ–≥–æ —Å–ª–æ—è –≤–æ –≤—Ä–µ–º–µ–Ω–∏
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–º (48.34 —Å–º)

4. **porosity_profile_ru.png**
   - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ—Ä–∏—Å—Ç–æ—Å—Ç–∏ Œ≥ = 1 - Œ±C

5. **contour_maps_ru.png**
   - –ö–æ–Ω—Ç—É—Ä–Ω—ã–µ –∫–∞—Ä—Ç—ã Œ±R, Œ±D, Œ±C, T(z,t)

6. **phase_yields_timeseries_ru.png**
   - –í—ã—Ö–æ–¥—ã —Ñ–∞–∑ –≤–æ –≤—Ä–µ–º–µ–Ω–∏ (%)

7. **phase_yields_final_ru.png**
   - –§–∏–Ω–∞–ª—å–Ω—ã–µ –≤—ã—Ö–æ–¥—ã —Ñ–∞–∑ (—Å—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞)

8. **comparison_with_experiment_ru.png**
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤—ã—Å–æ—Ç—ã –∏ –≤—ã—Ö–æ–¥–∞ –∫–æ–∫—Å–∞ —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–º

9. **simulation_results.txt**
   - –¢–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç—á—ë—Ç —Å —á–∏—Å–ª–æ–≤—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

## üéØ –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–∏ (VR3)

–ú–æ–¥–µ–ª—å –∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω–∞ –ø–æ–¥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è **—Ç—è–∂—ë–ª–æ–≥–æ —Å—ã—Ä—å—è VR3**:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç | –¢–∏–ø–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–¥–µ–ª–∏ |
|----------|-------------|---------------------------|
| –í—ã—Å–æ—Ç–∞ –∫–æ–∫—Å–æ–≤–æ–≥–æ —Å–ª–æ—è | 48.34 —Å–º | ~48-50 —Å–º |
| –í—ã—Ö–æ–¥ –∫–æ–∫—Å–∞ | 36.57% | ~35-37% |

**–û—Ç–∫–ª–æ–Ω–µ–Ω–∏—è:** < 5%

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ "—Ä—É—á–∫–∏" –¥–ª—è –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

**1. –ú–∞—Å—à—Ç–∞–±—ã –∫–∏–Ω–µ—Ç–∏–∫–∏ (`src/kinetics.py`):**
```python
scale_dist: float = 0.25   # ‚Üì –º–µ–Ω—å—à–µ ‚Üí –º–µ–Ω—å—à–µ –¥–∏—Å—Ç–∏–ª–ª—è—Ç–æ–≤
scale_coke: float = 5.00   # ‚Üë –±–æ–ª—å—à–µ ‚Üí –±–æ–ª—å—à–µ –∫–æ–∫—Å–∞
```

**–¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- –î–ª—è **—É–≤–µ–ª–∏—á–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∞ –∫–æ–∫—Å–∞**: —É–≤–µ–ª–∏—á—å—Ç–µ `scale_coke`
- –î–ª—è **—É–º–µ–Ω—å—à–µ–Ω–∏—è –≤—ã—Ö–æ–¥–∞ –∫–æ–∫—Å–∞**: —É–≤–µ–ª–∏—á—å—Ç–µ `scale_dist`

**2. –ü—Ä–æ—Ñ–∏–ª—å –ø—Ä–æ–≥—Ä–µ–≤–∞ (`src/params.py`):**
```python
tau_heat_bottom_s: float = 10.0*60   # –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–≥—Ä–µ–≤ —Å–Ω–∏–∑—É
tau_heat_top_s: float = 120.0*60     # –º–µ–¥–ª–µ–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ–≤ —Å–≤–µ—Ä—Ö—É
```

**3. –®–∞–≥ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ (`src/params.py`):**
```python
dt: float = 0.05  # —Å (—É–º–µ–Ω—å—à–∏—Ç—å –¥–ª—è –±–æ–ª—å—à–µ–π —Ç–æ—á–Ω–æ—Å—Ç–∏)
```

### –ü—Ä–∏–º–µ—Ä –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏

```python
# src/kinetics.py

# –î–ª—è –≤—ã—Ö–æ–¥–∞ –∫–æ–∫—Å–∞ ~30%
scale_dist: float = 0.35
scale_coke: float = 4.00

# –î–ª—è –≤—ã—Ö–æ–¥–∞ –∫–æ–∫—Å–∞ ~40%
scale_dist: float = 0.20
scale_coke: float = 6.00
```

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫

```python
from src.params import defaults
from src.kinetics import VR3Kinetics
from src.solver_1d import Coking1DSolver
from src.visualization import render_all_ru

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
geom, inlet, walls, mats, tcfg = defaults()

# –ö–∏–Ω–µ—Ç–∏–∫–∞ VR3
kin = VR3Kinetics()

# –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—à–∞—Ç–µ–ª—è
solver = Coking1DSolver(geom, inlet, walls, mats, tcfg, kin)

# –ó–∞–ø—É—Å–∫ —Å–∏–º—É–ª—è—Ü–∏–∏
results = solver.run(verbose_hourly=True)

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
from pathlib import Path
render_all_ru(results, outdir=Path("results"), 
              exp_h_cm=48.34, exp_y_pct=36.57)
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∏–Ω–µ—Ç–∏–∫–∏

```python
from src.kinetics import VR3Kinetics

# –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤—ã—Ö–æ–¥ –∫–æ–∫—Å–∞
kin = VR3Kinetics(scale_dist=0.20, scale_coke=6.00)

solver = Coking1DSolver(geom, inlet, walls, mats, tcfg, kin)
results = solver.run()
```

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å—Ç–µ–Ω–∫–∏

```python
from src.params import Walls

# –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∞—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ —Å—Ç–µ–Ω–∫–∏
walls = Walls(T_wall_C=530.0)

solver = Coking1DSolver(geom, inlet, walls, mats, tcfg, kin)
results = solver.run()
```

### –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏–º—É–ª—è—Ü–∏—è (–∫–æ—Ä–æ—Ç–∫–∞—è)

```python
from src.params import TimeSetup

# –°–∏–º—É–ª—è—Ü–∏—è –Ω–∞ 3 —á–∞—Å–∞ –≤–º–µ—Å—Ç–æ 12
tcfg = TimeSetup(total_hours=3.0, dt=0.1)

solver = Coking1DSolver(geom, inlet, walls, mats, tcfg, kin)
results = solver.run()
```

## üî¨ –§–∏–∑–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å

### –û—Å–Ω–æ–≤–Ω—ã–µ —É—Ä–∞–≤–Ω–µ–Ω–∏—è

**1. –ü—Ä–æ–≥—Ä–µ–≤ –æ—Ç —Å—Ç–µ–Ω–æ–∫:**
```
dT/dt = (T_wall - T) / œÑ(z)
```

**2. –ê–¥–≤–µ–∫—Ü–∏—è —Ñ–∞–∑ (upwind —Å —Å—É–±—à–∞–≥–∞–º–∏):**
```
‚àÇŒ±R/‚àÇt + vR * ‚àÇŒ±R/‚àÇz = 0
‚àÇŒ±D/‚àÇt + vD * ‚àÇŒ±D/‚àÇz = 0
```

**3. –†–µ–∞–∫—Ü–∏–∏:**
```
VR ‚Üí Distillables (k_dist)
VR ‚Üí Coke (k_coke)

dŒ±R = -Œ≥ * Œ±R * (k_dist + k_coke) * Œ±R^(order-1) * dt
dŒ±C = (œÅ_vr * Œ≥ * Œ±R^order * k_coke * dt) / œÅ_coke
dŒ±D = (œÅ_vr * Œ≥ * Œ±R^order * k_dist * dt) / œÅ_dist
```

**4. –ü–æ—Ä–∏—Å—Ç–æ—Å—Ç—å:**
```
Œ≥ = 1 - Œ±C
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å—É–±—à–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ –∞–¥–≤–µ–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —á–∏—Å–ª–∞ —Å—É–±—à–∞–≥–æ–≤:
```python
œÉ = v * dt / dz
n_sub = max(1, ceil(œÉ))  # Courant condition
```

## ‚ö° –£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å Numba

–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏ –∫–æ–¥–∞ JIT-–∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è —Å Numba:

```python
@njit(cache=True, fastmath=True)
def _nb_step_advect_react(...):
    # –ü—Ä–æ–≥—Ä–µ–≤ + –∞–¥–≤–µ–∫—Ü–∏—è + —Ä–µ–∞–∫—Ü–∏–∏
    # –£—Å–∫–æ—Ä–µ–Ω–∏–µ ~20x –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —á–∏—Å—Ç–æ–≥–æ Python
```

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- 12 —á–∞—Å–æ–≤ —Å–∏–º—É–ª—è—Ü–∏–∏, 50 —Ç–æ—á–µ–∫, dt=0.05: **~25-30 —Å–µ–∫—É–Ω–¥**
- –ë–µ–∑ Numba: **~8-10 –º–∏–Ω—É—Ç**

## üìù –£–ø—Ä–æ—â–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

–ü–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å –ø–æ–ª–Ω–æ–π 2D CFD –º–æ–¥–µ–ª—å—é –∏–∑ —Å—Ç–∞—Ç—å–∏:

1. ‚úÖ **1D –≤–º–µ—Å—Ç–æ 2D** - —Ç–æ–ª—å–∫–æ –≤–¥–æ–ª—å –≤—ã—Å–æ—Ç—ã —Ä–µ–∞–∫—Ç–æ—Ä–∞
2. ‚úÖ **–£–ø—Ä–æ—â—ë–Ω–Ω–∞—è –∫–∏–Ω–µ—Ç–∏–∫–∞** - –¥–≤—É—Ö—Å—Ç–∞–¥–∏–π–Ω–∞—è (dist + coke) –≤–º–µ—Å—Ç–æ –º–Ω–æ–≥–æ—Å—Ç–∞–¥–∏–π–Ω–æ–π
3. ‚úÖ **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å** - –±–µ–∑ —Ä–µ—à–µ–Ω–∏—è —É—Ä–∞–≤–Ω–µ–Ω–∏–π –ù–∞–≤—å–µ-–°—Ç–æ–∫—Å–∞
4. ‚úÖ **–£–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ–≤** - —Ä–µ–ª–∞–∫—Å–∞—Ü–∏—è –∫ T_wall —Å –ø—Ä–æ—Ñ–∏–ª–µ–º œÑ(z)
5. ‚úÖ **–Ø–≤–Ω–∞—è —Å—Ö–µ–º–∞** - –∞–¥–≤–µ–∫—Ü–∏—è upwind + —è–≤–Ω—ã–π –≠–π–ª–µ—Ä –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –∏—Ç–µ—Ä–∞—Ü–∏—è
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ö–æ–¥–∏–º–æ—Å—Ç—å
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (< 5% –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ)
- –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (~30 —Å–µ–∫—É–Ω–¥)

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –°–∏–º—É–ª—è—Ü–∏—è –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞ / —Ä–∞—Å—Ö–æ–¥–∏—Ç—Å—è

1. **–£–º–µ–Ω—å—à–∏—Ç–µ —à–∞–≥ –ø–æ –≤—Ä–µ–º–µ–Ω–∏:**
   ```python
   tcfg = TimeSetup(dt=0.01)  # –±—ã–ª–æ 0.05
   ```

2. **–£–≤–µ–ª–∏—á—å—Ç–µ —á–∏—Å–ª–æ —Ç–æ—á–µ–∫ —Å–µ—Ç–∫–∏:**
   ```python
   geom = Geometry(NZ=100)  # –±—ã–ª–æ 50
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Numba:** —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Numba —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
   ```bash
   pip install numba
   ```

### –ù–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–∞—Å—à—Ç–∞–±—ã –∫–∏–Ω–µ—Ç–∏–∫–∏:**
   - `scale_dist` –∏ `scale_coke` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å > 0
   - –¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: 0.2-0.4 –¥–ª—è dist, 3-7 –¥–ª—è coke

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã:**
   - `T_in_C` –æ–±—ã—á–Ω–æ 350-400¬∞C
   - `T_wall_C` –æ–±—ã—á–Ω–æ 500-520¬∞C

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–ª–æ—Ç–Ω–æ—Å—Ç–∏:**
   - `rho_vr` ~ 1000-1100 –∫–≥/–º¬≥
   - `rho_coke_bulk` ~ 900-1000 –∫–≥/–º¬≥

### Numba –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ï—Å–ª–∏ Numba –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞, –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ Python-–≤–µ—Ä—Å–∏—é:
```python
try:
    from numba import njit
    NUMBA = True
except Exception:
    NUMBA = False  # –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ Python-–≤–µ—Ä—Å–∏—è
```

### –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
cd examples
python run_simple.py
```

## üìö –õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞

1. **D√≠az, F. A., et al. (2017).** CFD simulation of a pilot plant Delayed Coking reactor using an In-House CFD code. *CT&F - Ciencia, Tecnolog√≠a y Futuro*, 7(1), 85-100.

2. **Ellis, P. J., & Hardin, C. A. (1993).** Refinery coker yields. *Hydrocarbon Processing*.

3. **Trigo, J. M. (2005).** Delayed coking: An industrial perspective. *PhD Thesis*.

## üë• –ê–≤—Ç–æ—Ä—ã

CFD Simulation Team

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –º–æ–¥–µ–ª–∏:

1. **2D –≥–µ–æ–º–µ—Ç—Ä–∏—è** - –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–¥–∏–∞–ª—å–Ω–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–∏–Ω–µ—Ç–∏–∫–∞** - –±–æ–ª—å—à–µ —Å—Ç–∞–¥–∏–π —Ä–µ–∞–∫—Ü–∏–π
3. **–î–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –ø–æ—Ç–æ–∫** - coupling –¥–∞–≤–ª–µ–Ω–∏—è –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏
4. **–ú–æ–¥–µ–ª—å –ø–æ—Ä–∏—Å—Ç–æ—Å—Ç–∏** - —ç–≤–æ–ª—é—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–∫—Å–∞
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ VR1, VR2** - —Ä–∞—Å—à–∏—Ä–∏—Ç—å –Ω–∞–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

---

**–£–¥–∞—á–∏ —Å —Å–∏–º—É–ª—è—Ü–∏–µ–π! üöÄ**

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Python (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Python 3.8+)

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: –æ–∫—Ç—è–±—Ä—å 2025*